syntax = "proto3";

import "block.proto";
import "resource.proto";

package graph;
option go_package = "graph";

message Graph {
  string id = 1;
  string name = 2;
  repeated Node nodes = 3;
  repeated Edge edges = 4;
}

message Node {
  string id = 1;
  string name = 2;
  string block_id = 3;
  float x = 4;
  float y = 5;
  oneof config {
    block.REST rest = 6;
    block.GRPC grpc = 7;
    block.Collection collection = 8;
    block.Bucket bucket = 9;
    block.Input input = 10;
    block.Function function = 11;
  }
  // Dependencies
  repeated string resource_ids = 12;
}

 message Edge {
   string id = 1;
   string from = 2;
   string to = 3;
 }
